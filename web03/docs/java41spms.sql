-- ??
DROP TABLE IF EXISTS `SPMS_MEMBS` RESTRICT;

-- ????
DROP TABLE IF EXISTS `SPMS_MEMIMG` RESTRICT;

-- ????
DROP TABLE IF EXISTS `SPMS_ADDR` RESTRICT;

-- ????
DROP TABLE IF EXISTS `SPMS_PRJS` RESTRICT;

-- ??????
DROP TABLE IF EXISTS `SPMS_PRJMEMB` RESTRICT;

-- ???
DROP TABLE IF EXISTS `SPMS_TASKS` RESTRICT;

-- ????
DROP TABLE IF EXISTS `SPMS_MEMBTASK` RESTRICT;

-- ??
DROP TABLE IF EXISTS `SPMS_FEEDS` RESTRICT;

-- ????
DROP TABLE IF EXISTS `SPMS_FILES` RESTRICT;

-- ????
DROP TABLE IF EXISTS `SPMS_FEEDFILE` RESTRICT;

-- ??
CREATE TABLE `SPMS_MEMBS` (
	`EMAIL`       VARCHAR(50)  NOT NULL COMMENT '???', -- ???
	`MNAME`       VARCHAR(50)  NOT NULL COMMENT '??', -- ??
	`PWD`         VARCHAR(40)  NOT NULL COMMENT '??', -- ??
	`TEL`         VARCHAR(30)  NOT NULL COMMENT '????', -- ????
	`BLOG`        VARCHAR(255) NULL     COMMENT '???', -- ???
	`REG_DATE`    DATETIME     NULL     COMMENT '???', -- ???
	`UPDATE_DATE` DATETIME     NULL     COMMENT '???', -- ???
	`ANO`         INTEGER      NULL     COMMENT '????', -- ????
	`DET_ADDR`    VARCHAR(255) NULL     COMMENT '????', -- ????
	`TAG`         VARCHAR(255) NULL     COMMENT '??' -- ??
)
COMMENT '??';

-- ??
ALTER TABLE `SPMS_MEMBS`
	ADD CONSTRAINT `PK_SPMS_MEMBS` -- ?? ???
		PRIMARY KEY (
			`EMAIL` -- ???
		);

-- ????
CREATE TABLE `SPMS_MEMIMG` (
	`INO`    INTEGER      NOT NULL COMMENT '????', -- ????
	`EMAIL`  VARCHAR(50)  NOT NULL COMMENT '???', -- ???
	`IMGURL` VARCHAR(255) NOT NULL COMMENT '????' -- ????
)
COMMENT '????';

-- ????
ALTER TABLE `SPMS_MEMIMG`
	ADD CONSTRAINT `PK_SPMS_MEMIMG` -- ???? ???
		PRIMARY KEY (
			`INO` -- ????
		);

ALTER TABLE `SPMS_MEMIMG`
	MODIFY COLUMN `INO` INTEGER NOT NULL AUTO_INCREMENT COMMENT '????';

-- ????
CREATE TABLE `SPMS_ADDR` (
	`ANO`      INTEGER      NOT NULL COMMENT '????', -- ????
	`POSTNO`   VARCHAR(10)  NOT NULL COMMENT '????', -- ????
	`BAS_ADDR` VARCHAR(255) NOT NULL COMMENT '????' -- ????
)
COMMENT '????';

-- ????
ALTER TABLE `SPMS_ADDR`
	ADD CONSTRAINT `PK_SPMS_ADDR` -- ???? ???
		PRIMARY KEY (
			`ANO` -- ????
		);

ALTER TABLE `SPMS_ADDR`
	MODIFY COLUMN `ANO` INTEGER NOT NULL AUTO_INCREMENT COMMENT '????';

-- ????
CREATE TABLE `SPMS_PRJS` (
	`PNO`        INTEGER      NOT NULL COMMENT '??????', -- ??????
	`TITLE`      VARCHAR(255) NOT NULL COMMENT '??', -- ??
	`CONTENT`    MEDIUMTEXT   NOT NULL COMMENT '??', -- ??
	`START_DATE` DATETIME     NOT NULL COMMENT '???', -- ???
	`END_DATE`   DATETIME     NOT NULL COMMENT '???', -- ???
	`TAG`        VARCHAR(255) NULL     COMMENT '??' -- ??
)
COMMENT '????';

-- ????
ALTER TABLE `SPMS_PRJS`
	ADD CONSTRAINT `PK_SPMS_PRJS` -- ???? ???
		PRIMARY KEY (
			`PNO` -- ??????
		);

ALTER TABLE `SPMS_PRJS`
	MODIFY COLUMN `PNO` INTEGER NOT NULL AUTO_INCREMENT COMMENT '??????';

-- ??????
CREATE TABLE `SPMS_PRJMEMB` (
	`EMAIL` VARCHAR(50) NOT NULL COMMENT '???', -- ???
	`PNO`   INTEGER     NOT NULL COMMENT '??????', -- ??????
	`LEVEL` INTEGER     NULL     DEFAULT 1 COMMENT '??' -- ??
)
COMMENT '??????';

-- ??????
ALTER TABLE `SPMS_PRJMEMB`
	ADD CONSTRAINT `PK_SPMS_PRJMEMB` -- ?????? ???
		PRIMARY KEY (
			`EMAIL`, -- ???
			`PNO`    -- ??????
		);

-- ???
CREATE TABLE `SPMS_TASKS` (
	`TNO`        INTEGER      NOT NULL COMMENT '?????', -- ?????
	`PNO`        INTEGER      NOT NULL COMMENT '??????', -- ??????
	`TITLE`      VARCHAR(255) NOT NULL COMMENT '???', -- ???
	`UIPROTOURL` VARCHAR(255) NULL     COMMENT 'UI?????', -- UI?????
	`CONTENT`    TEXT         NULL     COMMENT '??', -- ??
	`START_DATE` DATETIME     NULL     COMMENT '???', -- ???
	`END_DATE`   DATETIME     NULL     COMMENT '???', -- ???
	`STATUS`     INTEGER      NULL     DEFAULT 0 COMMENT '??' -- ??
)
COMMENT '???';

-- ???
ALTER TABLE `SPMS_TASKS`
	ADD CONSTRAINT `PK_SPMS_TASKS` -- ??? ???
		PRIMARY KEY (
			`TNO` -- ?????
		);

ALTER TABLE `SPMS_TASKS`
	MODIFY COLUMN `TNO` INTEGER NOT NULL AUTO_INCREMENT COMMENT '?????';

-- ????
CREATE TABLE `SPMS_MEMBTASK` (
	`TNO`   INTEGER     NOT NULL COMMENT '?????', -- ?????
	`EMAIL` VARCHAR(50) NOT NULL COMMENT '???', -- ???
	`PNO`   INTEGER     NOT NULL COMMENT '??????' -- ??????
)
COMMENT '????';

-- ????
ALTER TABLE `SPMS_MEMBTASK`
	ADD CONSTRAINT `PK_SPMS_MEMBTASK` -- ???? ???
		PRIMARY KEY (
			`TNO`,   -- ?????
			`EMAIL`, -- ???
			`PNO`    -- ??????
		);

-- ??
CREATE TABLE `SPMS_FEEDS` (
	`FNO`      INTEGER     NOT NULL COMMENT '????', -- ????
	`CONTENT`  TEXT        NOT NULL COMMENT '??', -- ??
	`REG_DATE` DATETIME    NOT NULL COMMENT '???', -- ???
	`EMAIL`    VARCHAR(50) NOT NULL COMMENT '???', -- ???
	`PNO`      INTEGER     NOT NULL COMMENT '??????' -- ??????
)
COMMENT '??';

-- ??
ALTER TABLE `SPMS_FEEDS`
	ADD CONSTRAINT `PK_SPMS_FEEDS` -- ?? ???
		PRIMARY KEY (
			`FNO` -- ????
		);

ALTER TABLE `SPMS_FEEDS`
	MODIFY COLUMN `FNO` INTEGER NOT NULL AUTO_INCREMENT COMMENT '????';

-- ????
CREATE TABLE `SPMS_FILES` (
	`FNO`      INTEGER      NOT NULL COMMENT '????', -- ????
	`FILEID`   VARCHAR(50)  NOT NULL COMMENT '?????', -- ?????
	`TITLE`    VARCHAR(255) NOT NULL COMMENT '???', -- ???
	`FSIZE`    VARCHAR(20)  NOT NULL COMMENT '????', -- ????
	`REG_DATE` DATETIME     NOT NULL COMMENT '???', -- ???
	`EMAIL`    VARCHAR(50)  NOT NULL COMMENT '???', -- ???
	`PNO`      INTEGER      NOT NULL COMMENT '??????', -- ??????
	`TAG`      VARCHAR(255) NULL     COMMENT '??' -- ??
)
COMMENT '????';

-- ????
ALTER TABLE `SPMS_FILES`
	ADD CONSTRAINT `PK_SPMS_FILES` -- ???? ???
		PRIMARY KEY (
			`FNO` -- ????
		);

ALTER TABLE `SPMS_FILES`
	MODIFY COLUMN `FNO` INTEGER NOT NULL AUTO_INCREMENT COMMENT '????';

-- ????
CREATE TABLE `SPMS_FEEDFILE` (
	`FEEDNO` INTEGER NOT NULL COMMENT '????', -- ????
	`FILENO` INTEGER NOT NULL COMMENT '????' -- ????
)
COMMENT '????';

-- ????
ALTER TABLE `SPMS_FEEDFILE`
	ADD CONSTRAINT `PK_SPMS_FEEDFILE` -- ???? ???
		PRIMARY KEY (
			`FEEDNO`, -- ????
			`FILENO`  -- ????
		);

-- ??
ALTER TABLE `SPMS_MEMBS`
	ADD CONSTRAINT `FK_SPMS_ADDR_TO_SPMS_MEMBS` -- ???? -> ??
		FOREIGN KEY (
			`ANO` -- ????
		)
		REFERENCES `SPMS_ADDR` ( -- ????
			`ANO` -- ????
		);

-- ????
ALTER TABLE `SPMS_MEMIMG`
	ADD CONSTRAINT `FK_SPMS_MEMBS_TO_SPMS_MEMIMG` -- ?? -> ????
		FOREIGN KEY (
			`EMAIL` -- ???
		)
		REFERENCES `SPMS_MEMBS` ( -- ??
			`EMAIL` -- ???
		);

-- ??????
ALTER TABLE `SPMS_PRJMEMB`
	ADD CONSTRAINT `FK_SPMS_MEMBS_TO_SPMS_PRJMEMB` -- ?? -> ??????
		FOREIGN KEY (
			`EMAIL` -- ???
		)
		REFERENCES `SPMS_MEMBS` ( -- ??
			`EMAIL` -- ???
		);

-- ??????
ALTER TABLE `SPMS_PRJMEMB`
	ADD CONSTRAINT `FK_SPMS_PRJS_TO_SPMS_PRJMEMB` -- ???? -> ??????
		FOREIGN KEY (
			`PNO` -- ??????
		)
		REFERENCES `SPMS_PRJS` ( -- ????
			`PNO` -- ??????
		);

-- ???
ALTER TABLE `SPMS_TASKS`
	ADD CONSTRAINT `FK_SPMS_PRJS_TO_SPMS_TASKS` -- ???? -> ???
		FOREIGN KEY (
			`PNO` -- ??????
		)
		REFERENCES `SPMS_PRJS` ( -- ????
			`PNO` -- ??????
		);

-- ????
ALTER TABLE `SPMS_MEMBTASK`
	ADD CONSTRAINT `FK_SPMS_TASKS_TO_SPMS_MEMBTASK` -- ??? -> ????
		FOREIGN KEY (
			`TNO` -- ?????
		)
		REFERENCES `SPMS_TASKS` ( -- ???
			`TNO` -- ?????
		);

-- ????
ALTER TABLE `SPMS_MEMBTASK`
	ADD CONSTRAINT `FK_SPMS_PRJMEMB_TO_SPMS_MEMBTASK` -- ?????? -> ????
		FOREIGN KEY (
			`EMAIL`, -- ???
			`PNO`    -- ??????
		)
		REFERENCES `SPMS_PRJMEMB` ( -- ??????
			`EMAIL`, -- ???
			`PNO`    -- ??????
		);

-- ??
ALTER TABLE `SPMS_FEEDS`
	ADD CONSTRAINT `FK_SPMS_PRJMEMB_TO_SPMS_FEEDS` -- ?????? -> ??
		FOREIGN KEY (
			`EMAIL`, -- ???
			`PNO`    -- ??????
		)
		REFERENCES `SPMS_PRJMEMB` ( -- ??????
			`EMAIL`, -- ???
			`PNO`    -- ??????
		);

-- ????
ALTER TABLE `SPMS_FILES`
	ADD CONSTRAINT `FK_SPMS_PRJMEMB_TO_SPMS_FILES` -- ?????? -> ????
		FOREIGN KEY (
			`EMAIL`, -- ???
			`PNO`    -- ??????
		)
		REFERENCES `SPMS_PRJMEMB` ( -- ??????
			`EMAIL`, -- ???
			`PNO`    -- ??????
		);

-- ????
ALTER TABLE `SPMS_FEEDFILE`
	ADD CONSTRAINT `FK_SPMS_FEEDS_TO_SPMS_FEEDFILE` -- ?? -> ????
		FOREIGN KEY (
			`FEEDNO` -- ????
		)
		REFERENCES `SPMS_FEEDS` ( -- ??
			`FNO` -- ????
		);

-- ????
ALTER TABLE `SPMS_FEEDFILE`
	ADD CONSTRAINT `FK_SPMS_FILES_TO_SPMS_FEEDFILE` -- ???? -> ????
		FOREIGN KEY (
			`FILENO` -- ????
		)
		REFERENCES `SPMS_FILES` ( -- ????
			`FNO` -- ????
		);